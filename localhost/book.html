<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#1a1a2e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/icon-192.png">
  <title>Book a Room - The Neelkanth Grand, Manali</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, #f5f3ef 0%, #ebe8e2 100%);
      min-height: 100vh;
      display: flex; justify-content: center; align-items: center; padding: 20px;
    }
    .booking-page {
      background: white; border-radius: 20px; max-width: 540px; width: 100%;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1); overflow: hidden;
    }
    .booking-hero {
      background: linear-gradient(135deg, #1c2038, #2c2450);
      padding: 32px 24px; text-align: center; color: #f5f3ef;
      border-bottom: 3px solid #b8943e;
    }
    .booking-hero h1 { font-family: 'Playfair Display', serif; font-size: 24px; color: #d4b87a; margin-bottom: 4px; }
    .booking-hero p { opacity: 0.85; font-size: 14px; }
    .booking-form { padding: 24px; }
    .booking-form h2 {
      font-family: 'Playfair Display', serif; text-align: center;
      color: #1c2038; margin-bottom: 20px; font-size: 20px;
    }
    .form-group { margin-bottom: 16px; }
    .form-group label { display: block; font-weight: 600; font-size: 13px; color: #5c5040; margin-bottom: 6px; }
    .form-group input, .form-group select {
      width: 100%; padding: 12px 16px; border: 2px solid #e0ddd8; border-radius: 10px;
      font-size: 15px; font-family: inherit; outline: none; transition: border-color 0.2s;
    }
    .form-group input:focus, .form-group select:focus { border-color: #b8943e; }
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .submit-btn {
      width: 100%; padding: 16px; background: linear-gradient(135deg, #25d366, #128c7e);
      color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: 700;
      cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 8px;
    }
    .submit-btn:hover { opacity: 0.9; }
    .submit-btn svg { width: 24px; height: 24px; fill: white; }
    .share-section {
      padding: 16px 24px; background: rgba(153,107,47,0.06);
      border-top: 1px solid rgba(153,107,47,0.15); text-align: center;
    }
    .share-section button {
      background: #996b2f; color: white; border: none; padding: 12px 20px;
      border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; min-height: 44px;
    }
    .share-section button:hover { opacity: 0.85; }
    .toast {
      position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%);
      background: #1c2038; color: white; padding: 12px 24px; border-radius: 10px;
      font-size: 14px; font-weight: 500; z-index: 1000; display: none;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }
    .toast.show { display: block; animation: fadeInUp 0.3s; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateX(-50%) translateY(10px); } to { opacity: 1; transform: translateX(-50%) translateY(0); } }
    @media (max-width: 480px) {
      .form-row { grid-template-columns: 1fr; }
      .booking-form { padding: 16px; }
      .booking-hero { padding: 24px 16px; }
    }
  </style>
</head>
<body>
  <div class="booking-page">
    <div class="booking-hero">
      <div style="font-size:40px;margin-bottom:8px;">&#127956;</div>
      <h1>The Neelkanth Grand</h1>
      <p>Manali, Himachal Pradesh</p>
    </div>
    <div class="booking-form">
      <h2>Request a Booking</h2>
      <div class="form-group">
        <label>Your Name *</label>
        <input type="text" id="bkName" placeholder="Full name" required>
      </div>
      <div class="form-group">
        <label>Phone Number *</label>
        <input type="tel" id="bkPhone" placeholder="WhatsApp number" required>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Check-in Date *</label>
          <input type="date" id="bkCheckIn">
        </div>
        <div class="form-group">
          <label>Check-out Date *</label>
          <input type="date" id="bkCheckOut">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Number of Rooms</label>
          <select id="bkRooms">
            <option value="1">1 Room</option>
            <option value="2">2 Rooms</option>
            <option value="3">3 Rooms</option>
            <option value="4">4+ Rooms</option>
          </select>
        </div>
        <div class="form-group">
          <label>Number of Guests</label>
          <input type="number" id="bkGuests" value="2" min="1" max="20">
        </div>
      </div>
      <div class="form-group">
        <label>Room Type Preference</label>
        <select id="bkRoomType">
          <option value="">No Preference</option>
          <option value="Non-Balcony">Non-Balcony</option>
          <option value="Balcony">Balcony</option>
          <option value="Mini Family">Mini Family</option>
          <option value="Royal Suite Duplex">Royal Suite Duplex</option>
        </select>
      </div>
      <div class="form-group">
        <label>Special Requests</label>
        <input type="text" id="bkSpecial" placeholder="Any special requirements...">
      </div>
      <button class="submit-btn" onclick="sendBookingRequest()">
        <svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/><path d="M12 0C5.373 0 0 5.373 0 12c0 2.625.846 5.059 2.284 7.034L.789 23.492l4.614-1.209C7.342 23.447 9.6 24 12 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 22c-2.239 0-4.308-.724-5.993-1.953l-.428-.297-3.05.8.815-2.978-.325-.474A9.933 9.933 0 012 12C2 6.486 6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"/></svg>
        Send Booking Request via WhatsApp
      </button>
    </div>
    <div class="share-section">
      <p style="font-size:12px;color:#6b7280;margin-bottom:8px;">Share this page with guests</p>
      <button onclick="copyShareLink()">Copy Link</button>
    </div>
  </div>
  <div class="toast" id="toast"></div>

  <script>
    // Hotel WhatsApp number â€” UPDATE THIS to the actual hotel number
    var HOTEL_WHATSAPP = '918922032843';

    var today = new Date();
    var todayStr = today.getFullYear() + '-' + String(today.getMonth()+1).padStart(2,'0') + '-' + String(today.getDate()).padStart(2,'0');
    document.getElementById('bkCheckIn').min = todayStr;
    document.getElementById('bkCheckOut').min = todayStr;
    document.getElementById('bkCheckIn').value = todayStr;

    var tomorrow = new Date(today);
    tomorrow.setDate(tomorrow.getDate() + 1);
    var tomorrowStr = tomorrow.getFullYear() + '-' + String(tomorrow.getMonth()+1).padStart(2,'0') + '-' + String(tomorrow.getDate()).padStart(2,'0');
    document.getElementById('bkCheckOut').value = tomorrowStr;

    // Pre-fill from URL params
    var params = new URLSearchParams(window.location.search);
    if (params.get('name'))     document.getElementById('bkName').value = params.get('name');
    if (params.get('phone'))    document.getElementById('bkPhone').value = params.get('phone');
    if (params.get('checkin'))  document.getElementById('bkCheckIn').value = params.get('checkin');
    if (params.get('checkout')) document.getElementById('bkCheckOut').value = params.get('checkout');
    if (params.get('rooms'))    document.getElementById('bkRooms').value = params.get('rooms');
    if (params.get('type'))     document.getElementById('bkRoomType').value = params.get('type');

    function sendBookingRequest() {
      var name     = document.getElementById('bkName').value.trim();
      var phone    = document.getElementById('bkPhone').value.trim();
      var checkIn  = document.getElementById('bkCheckIn').value;
      var checkOut = document.getElementById('bkCheckOut').value;
      var rooms    = document.getElementById('bkRooms').value;
      var guests   = document.getElementById('bkGuests').value;
      var roomType = document.getElementById('bkRoomType').value;
      var special  = document.getElementById('bkSpecial').value.trim();

      if (!name || !phone || !checkIn || !checkOut) {
        showToast('Please fill in Name, Phone, Check-in and Check-out dates');
        return;
      }

      var ciDate = new Date(checkIn + 'T00:00:00');
      var coDate = new Date(checkOut + 'T00:00:00');
      var ciFmt = ciDate.toLocaleDateString('en-IN', { day:'2-digit', month:'short', year:'numeric' });
      var coFmt = coDate.toLocaleDateString('en-IN', { day:'2-digit', month:'short', year:'numeric' });
      var nights = Math.round((coDate - ciDate) / 86400000);

      if (nights < 1) {
        showToast('Check-out must be after check-in');
        return;
      }

      var msg = '\uD83C\uDFE8 *BOOKING REQUEST*\n' +
        '\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n' +
        '*The Neelkanth Grand, Manali*\n\n' +
        '\uD83D\uDC64 *Name:* ' + name + '\n' +
        '\uD83D\uDCF1 *Phone:* ' + phone + '\n' +
        '\uD83D\uDCC5 *Check-in:* ' + ciFmt + '\n' +
        '\uD83D\uDCC5 *Check-out:* ' + coFmt + '\n' +
        '\uD83C\uDF19 *Nights:* ' + nights + '\n' +
        '\uD83C\uDFE0 *Rooms:* ' + rooms + '\n' +
        '\uD83D\uDC65 *Guests:* ' + guests + '\n' +
        (roomType ? '\uD83C\uDFF7\uFE0F *Room Type:* ' + roomType + '\n' : '') +
        (special ? '\uD83D\uDCDD *Special:* ' + special + '\n' : '') +
        '\n_Sent from online booking form_';

      var waUrl = 'https://wa.me/' + HOTEL_WHATSAPP + '?text=' + encodeURIComponent(msg);
      window.open(waUrl, '_blank');
    }

    function copyShareLink() {
      var url = window.location.origin + window.location.pathname;
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(url).then(function() { showToast('Link copied!'); });
      } else {
        // Fallback
        var input = document.createElement('input');
        input.value = url;
        document.body.appendChild(input);
        input.select();
        document.execCommand('copy');
        document.body.removeChild(input);
        showToast('Link copied!');
      }
    }

    function showToast(msg) {
      var t = document.getElementById('toast');
      t.textContent = msg;
      t.classList.add('show');
      setTimeout(function() { t.classList.remove('show'); }, 2500);
    }
  </script>
</body>
</html>
